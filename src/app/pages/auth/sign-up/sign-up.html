<section id="sign-up">
  <div class="container">
    <div class="pt-10 sm:pt-15 md:pt-20 mb-24 flex flex-col items-center">
      <h1 class="text-2xl sm:text-3xl font-bold mb-6">Sign Up</h1>
      <form [formGroup]="form" (ngSubmit)="handleSubmit()" class="space-y-6 max-w-md w-full">
        <!-- Name Fields Row -->
        <z-form-field class="w-full">
          <label z-form-label zRequired for="firstName">First Name</label>
          <z-form-control
            [errorMessage]="isFieldInvalid('firstName') ? 'First name is required' : ''"
          >
            <input
              z-input
              id="firstName"
              type="text"
              placeholder="John"
              formControlName="firstName"
            />
          </z-form-control>
        </z-form-field>

        <z-form-field class="w-full">
          <label z-form-label zRequired for="lastName">Last Name</label>
          <z-form-control
            [errorMessage]="isFieldInvalid('lastName') ? 'Last name is required' : ''"
          >
            <input z-input id="lastName" type="text" placeholder="Doe" formControlName="lastName" />
          </z-form-control>
        </z-form-field>

        <!-- Email Field -->
        <z-form-field class="w-full">
          <label z-form-label zRequired for="email">Email</label>
          <z-form-control [errorMessage]="isFieldInvalid('email') ? getEmailError() : ''">
            <input
              z-input
              id="email"
              type="email"
              placeholder="john.doe@example.com"
              formControlName="email"
            />
          </z-form-control>
        </z-form-field>

        <z-form-field class="w-full">
          <label z-form-label zRequired for="password">Password</label>
          <z-form-control [errorMessage]="isFieldInvalid('password') ? 'Password is required' : ''">
            <input
              z-input
              id="password"
              type="password"
              placeholder="Password"
              formControlName="password"
            />
          </z-form-control>
        </z-form-field>

        <z-form-field class="w-full">
          <label z-form-label zRequired for="confirmPassword">Confirm Password</label>
          <z-form-control
            [errorMessage]="
              isFieldInvalid('confirmPassword')
                ? form.get('confirmPassword')?.hasError('passwordMismatch')
                  ? 'Passwords do not match'
                  : 'Confirm Password is required'
                : ''
            "
          >
            <input
              z-input
              id="confirmPassword"
              type="password"
              placeholder="Confirm Password"
              formControlName="confirmPassword"
            />
          </z-form-control>
        </z-form-field>

        <!-- Action Buttons -->
        <button z-button zType="default" type="submit" [disabled]="isSubmitting()" class="w-full">
          {{ isSubmitting() ? 'Signing Up...' : 'Sign Up' }}
        </button>

        <p class="text-center">
          Already have an account?
          <a routerLink="/auth/sign-in" class="text-secondary-blue underline">Sign In</a>
        </p>
      </form>
    </div>
  </div>
</section>
